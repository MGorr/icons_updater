# icons\_updater

__icons_updater__ - это небольшая утилита для обновления иконок в проекте. В некоторых ситуациях заказчик может предоставить иконки в неправильном формате, с неправильными размерами или именами. Данная утилита помогает разрешить проблемы, связанные с последним случаем.

## Использование

Для поиска наиболее подходящей иконки необходимо уметь узнавать размер иконок. Для этого в __icons_updater__ есть два способа:

- использование утилиты [__ImageMagick__][magick],
- использование парсинга имени файла.

Использование парсинга имени файла удобно тем, что не требует наличия каких-либо сторонних утилит. Например, на платформе __iOS__ размер иконок часто закодирован в имени: `icon_16x16.png` или `icon_16x16@2x.png`. Изначально утилита создавалась именно для этой платформы.

__ImageMagick__ используется по умолчанию. Эта утилита универсальна, но требует отдельной установки в систему и дополнительных настроек, если она не находится в системных путях.

В __icons_updater__ есть два способа передачи параметров:

- через аргументы;
- через конфигурационный файл, который тоже передаётся как аргумент.

Аргументы имеют более высокий приоритет над параметрами из конфигурационного файла.

### Аргументы

Поддерживаются следующие аргументы:

- `--config`, `-c` - путь до конфигурационного файла;
- `--destination`, `-d` - путь до иконок проекта;
- `--source`, `-s` - путь до новых иконок;
- `--name-parser`, `-n` - использование парсинга имени файла.

### Конфигурационный файл

Единственная секция - __settings__. В ней можно выставить следующие настройки:

- `path` - путь до __ImageMagick__ (если __ImageMagick__ не находится в системных путях);
- `dst` - путь до иконок проекта;
- `src` - путь до новых иконок.

### Примеры

Конфигурационный файл не используется, и __ImageMagick__ не находится в путях:

```
>> cd path/to/data/icons
>> add_to_path path/to/apps/imagemagick
>> python -m icons_updater -d path/to/projects/cool_game/icons -s icons_for_new_version
```

То же самое с использованием конфигурационного файла. Файл:

```
[settings]

path = path/to/apps/imagemagick
dst = path/to/projects/cool_game/icons
```

Команды:

```
>> cd path/to/data/icons
>> python -m icons_updater -c cool_game.cfg -s icons_for_new_version
```

[magick]: https://imagemagick.org/
